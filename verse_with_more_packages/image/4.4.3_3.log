#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile_4.4.3
#1 transferring dockerfile: 4.45kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/rocker/verse:4.4.3
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [stage-0  1/17] FROM docker.io/rocker/verse:4.4.3
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 331B done
#5 DONE 0.0s

#6 [stage-0 11/17] RUN fc-cache -f
#6 CACHED

#7 [stage-0  4/17] RUN python3 -m venv /root/venv; . /root/venv/bin/activate; pip install anndata scvelo 'numpy<2' 'scipy<1.14.0'
#7 CACHED

#8 [stage-0 10/17] RUN apt-get update     && echo "ttf-mscorefonts-installer msttcorefonts/accepted-mscorefonts-eula select true" | debconf-set-selections     && DEBIAN_FRONTEND=noninteractive apt-get -y install --no-install-recommends ttf-mscorefonts-installer     && rm -rf /var/lib/apt/lists/*
#8 CACHED

#9 [stage-0  3/17] RUN apt-get update     && apt-get install -y --no-install-recommends     libhdf5-dev     libudunits2-dev     patch     libgdal-dev     libgsl-dev     libboost-filesystem-dev libboost-system-dev     python3     python3-venv     python3-pip     && rm -rf /var/lib/apt/lists/*
#9 CACHED

#10 [stage-0  7/17] COPY helpers/packages.to.install_4.4.3_1.txt /tmp/
#10 CACHED

#11 [stage-0  9/17] RUN --mount=type=secret,id=renv,target=/root/.Renviron     R -e 'remotes::install_github("chris-mcginnis-ucsf/DoubletFinder", upgrade = "never", ref = "1b244d8f0d54b4b1cb4365639931bbb16f01e1cd")'
#11 CACHED

#12 [stage-0  2/17] COPY helpers/packages.to.install_4.4.3_0.txt /tmp/
#12 CACHED

#13 [stage-0  8/17] RUN R -e 'install.packages("BiocManager");my.packages <- read.delim("/tmp/packages.to.install_4.4.3_1.txt", header = FALSE)[, 1]; BiocManager::install(my.packages, update = FALSE, ask = FALSE)'
#13 CACHED

#14 [stage-0 13/17] RUN R -e 'install.packages("BiocManager");my.packages <- read.delim("/tmp/packages.to.install_4.4.3_2.txt", header = FALSE)[, 1]; BiocManager::install(my.packages, update = FALSE, ask = FALSE)'
#14 CACHED

#15 [stage-0  5/17] RUN R -e 'install.packages("BiocManager");my.packages <- read.delim("/tmp/packages.to.install_4.4.3_0.txt", header = FALSE)[, 1]; BiocManager::install(my.packages, update = FALSE, ask = FALSE)'
#15 CACHED

#16 [stage-0  6/17] RUN --mount=type=secret,id=renv,target=/root/.Renviron     R -e 'remotes::install_github("satijalab/seurat-wrappers", upgrade = "never", ref = "8d46d6c47c089e193fe5c02a8c23970715918aa9");remotes::install_github("cellgeni/sceasy", ref = "c1c0bf973b0b3b67e013c01bf583d1fcc4c9f8cc", upgrade = "never");remotes::install_github("lldelisle/velocyto.R", ref = "comment_rf_warning", upgrade = "never");remotes::install_github("immunogenomics/presto", upgrade = "never", ref = "7636b3d0465c468c35853f82f1717d3a64b3c8f6");remotes::install_github("lldelisle/usefulLDfunctions", upgrade = "never", ref = "v0.1.6");remotes::install_github("chris-mcginnis-ucsf/DoubletFinder", upgrade = "never", ref = "b86c53ab8940602f0aeb8cd27315482a3efb83f0");remotes::install_github("mojaveazure/seurat-disk", upgrade = "never", ref = "877d4e18ab38c686f5db54f8cd290274ccdbe295");remotes::install_github("cole-trapnell-lab/monocle3", upgrade = "never", ref = "98402ed0c10cac020524bebbb9300614a799f6d1")'
#16 CACHED

#17 [stage-0 12/17] COPY helpers/packages.to.install_4.4.3_2.txt /tmp/
#17 CACHED

#18 [stage-0 14/17] RUN R -e 'library(extrafont);font_import(prompt = FALSE);loadfonts(device = "all")'
#18 CACHED

#19 [stage-0 15/17] RUN python3 -m venv /root/venv2; . /root/venv2/bin/activate; pip install plotly kaleido
#19 2.797 Collecting plotly
#19 2.912   Downloading plotly-6.5.2-py3-none-any.whl.metadata (8.5 kB)
#19 2.958 Collecting kaleido
#19 2.972   Downloading kaleido-1.2.0-py3-none-any.whl.metadata (5.6 kB)
#19 3.077 Collecting narwhals>=1.15.1 (from plotly)
#19 3.092   Downloading narwhals-2.16.0-py3-none-any.whl.metadata (14 kB)
#19 3.143 Collecting packaging (from plotly)
#19 3.160   Downloading packaging-26.0-py3-none-any.whl.metadata (3.3 kB)
#19 3.207 Collecting choreographer>=1.1.1 (from kaleido)
#19 3.225   Downloading choreographer-1.2.1-py3-none-any.whl.metadata (6.8 kB)
#19 3.271 Collecting logistro>=1.0.8 (from kaleido)
#19 3.286   Downloading logistro-2.0.1-py3-none-any.whl.metadata (3.9 kB)
#19 3.570 Collecting orjson>=3.10.15 (from kaleido)
#19 3.586   Downloading orjson-3.11.7-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (41 kB)
#19 3.606      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.0/42.0 kB 2.0 MB/s eta 0:00:00
#19 3.641 Collecting pytest-timeout>=2.4.0 (from kaleido)
#19 3.655   Downloading pytest_timeout-2.4.0-py3-none-any.whl.metadata (20 kB)
#19 3.777 Collecting simplejson>=3.19.3 (from choreographer>=1.1.1->kaleido)
#19 3.792   Downloading simplejson-3.20.2-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.2 kB)
#19 3.898 Collecting pytest>=7.0.0 (from pytest-timeout>=2.4.0->kaleido)
#19 3.913   Downloading pytest-9.0.2-py3-none-any.whl.metadata (7.6 kB)
#19 3.957 Collecting iniconfig>=1.0.1 (from pytest>=7.0.0->pytest-timeout>=2.4.0->kaleido)
#19 3.971   Downloading iniconfig-2.3.0-py3-none-any.whl.metadata (2.5 kB)
#19 4.022 Collecting pluggy<2,>=1.5 (from pytest>=7.0.0->pytest-timeout>=2.4.0->kaleido)
#19 4.037   Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
#19 4.082 Collecting pygments>=2.7.2 (from pytest>=7.0.0->pytest-timeout>=2.4.0->kaleido)
#19 4.096   Downloading pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
#19 4.133 Downloading plotly-6.5.2-py3-none-any.whl (9.9 MB)
#19 4.790    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.9/9.9 MB 15.1 MB/s eta 0:00:00
#19 4.807 Downloading kaleido-1.2.0-py3-none-any.whl (68 kB)
#19 4.822    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 69.0/69.0 kB 4.6 MB/s eta 0:00:00
#19 4.839 Downloading choreographer-1.2.1-py3-none-any.whl (49 kB)
#19 4.851    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.3/49.3 kB 4.9 MB/s eta 0:00:00
#19 4.867 Downloading logistro-2.0.1-py3-none-any.whl (8.6 kB)
#19 4.895 Downloading narwhals-2.16.0-py3-none-any.whl (443 kB)
#19 4.967    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.0/444.0 kB 6.2 MB/s eta 0:00:00
#19 4.984 Downloading orjson-3.11.7-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (133 kB)
#19 5.006    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 kB 6.0 MB/s eta 0:00:00
#19 5.021 Downloading pytest_timeout-2.4.0-py3-none-any.whl (14 kB)
#19 5.044 Downloading packaging-26.0-py3-none-any.whl (74 kB)
#19 5.059    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 74.4/74.4 kB 5.8 MB/s eta 0:00:00
#19 5.074 Downloading pytest-9.0.2-py3-none-any.whl (374 kB)
#19 5.115    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 374.8/374.8 kB 9.2 MB/s eta 0:00:00
#19 5.130 Downloading simplejson-3.20.2-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (152 kB)
#19 5.154    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 152.4/152.4 kB 6.9 MB/s eta 0:00:00
#19 5.167 Downloading iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
#19 5.189 Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
#19 5.214 Downloading pygments-2.19.2-py3-none-any.whl (1.2 MB)
#19 5.442    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 5.4 MB/s eta 0:00:00
#19 5.515 Installing collected packages: simplejson, pygments, pluggy, packaging, orjson, narwhals, logistro, iniconfig, pytest, plotly, choreographer, pytest-timeout, kaleido
#19 8.261 Successfully installed choreographer-1.2.1 iniconfig-2.3.0 kaleido-1.2.0 logistro-2.0.1 narwhals-2.16.0 orjson-3.11.7 packaging-26.0 plotly-6.5.2 pluggy-1.6.0 pygments-2.19.2 pytest-9.0.2 pytest-timeout-2.4.0 simplejson-3.20.2
#19 DONE 8.7s

#20 [stage-0 16/17] COPY helpers/packages.to.install_4.4.3_3.txt /tmp/
#20 DONE 0.1s

#21 [stage-0 17/17] RUN R -e 'install.packages("BiocManager");my.packages <- read.delim("/tmp/packages.to.install_4.4.3_3.txt", header = FALSE)[, 1]; BiocManager::install(my.packages, update = FALSE, ask = FALSE)'
#21 0.235 
#21 0.235 R version 4.4.3 (2025-02-28) -- "Trophy Case"
#21 0.235 Copyright (C) 2025 The R Foundation for Statistical Computing
#21 0.235 Platform: x86_64-pc-linux-gnu
#21 0.235 
#21 0.235 R is free software and comes with ABSOLUTELY NO WARRANTY.
#21 0.235 You are welcome to redistribute it under certain conditions.
#21 0.235 Type 'license()' or 'licence()' for distribution details.
#21 0.235 
#21 0.235   Natural language support but running in an English locale
#21 0.235 
#21 0.235 R is a collaborative project with many contributors.
#21 0.235 Type 'contributors()' for more information and
#21 0.235 'citation()' on how to cite R or R packages in publications.
#21 0.235 
#21 0.235 Type 'demo()' for some demos, 'help()' for on-line help, or
#21 0.235 'help.start()' for an HTML browser interface to help.
#21 0.235 Type 'q()' to quit R.
#21 0.235 
#21 0.331 > install.packages("BiocManager");my.packages <- read.delim("/tmp/packages.to.install_4.4.3_3.txt", header = FALSE)[, 1]; BiocManager::install(my.packages, update = FALSE, ask = FALSE)
#21 0.332 Installing package into ‘/usr/local/lib/R/site-library’
#21 0.332 (as ‘lib’ is unspecified)
#21 2.365 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/BiocManager_1.30.27.tar.gz'
#21 3.794 Content type 'binary/octet-stream' length 666468 bytes (650 KB)
#21 3.794 ==================================================
#21 4.597 downloaded 650 KB
#21 4.597 
#21 4.809 * installing *binary* package ‘BiocManager’ ...
#21 4.812 * DONE (BiocManager)
#21 4.819 
#21 4.819 The downloaded source packages are in
#21 4.819 	‘/tmp/RtmptiH5qV/downloaded_packages’
#21 5.050 'getOption("repos")' replaces Bioconductor standard repositories, see
#21 5.050 'help("repositories", package = "BiocManager")' for details.
#21 5.050 Replacement repositories:
#21 5.050     CRAN: https://p3m.dev/cran/__linux__/noble/latest
#21 9.702 Bioconductor version 3.20 (BiocManager 1.30.27), R 4.4.3 (2025-02-28)
#21 9.703 Installing package(s) 'logging', 'rlist', 'shinyjs', 'shinythemes',
#21 9.703   'JASPAR2024', 'SoupX', 'harmony'
#21 9.955 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/logging_0.10-108.tar.gz'
#21 10.62 Content type 'binary/octet-stream' length 166706 bytes (162 KB)
#21 10.62 ==================================================
#21 10.64 downloaded 162 KB
#21 10.64 
#21 10.65 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/rlist_0.4.6.2.tar.gz'
#21 12.04 Content type 'binary/octet-stream' length 248410 bytes (242 KB)
#21 12.04 ==================================================
#21 12.34 downloaded 242 KB
#21 12.34 
#21 12.34 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/shinyjs_2.1.1.tar.gz'
#21 13.37 Content type 'binary/octet-stream' length 1070220 bytes (1.0 MB)
#21 13.37 ==================================================
#21 13.45 downloaded 1.0 MB
#21 13.45 
#21 13.46 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/shinythemes_1.2.0.tar.gz'
#21 14.74 Content type 'binary/octet-stream' length 964184 bytes (941 KB)
#21 14.81 ==================================================
#21 15.19 downloaded 941 KB
#21 15.19 
#21 15.19 trying URL 'https://bioconductor.org/packages/3.20/data/annotation/src/contrib/JASPAR2024_0.99.6.tar.gz'
#21 15.97 Content type 'application/gzip' length 224746 bytes (219 KB)
#21 15.97 ==================================================
#21 16.20 downloaded 219 KB
#21 16.20 
#21 16.20 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/SoupX_1.6.2.tar.gz'
#21 17.74 Content type 'binary/octet-stream' length 5165865 bytes (4.9 MB)
#21 17.84 ==================================================
#21 23.47 downloaded 4.9 MB
#21 23.47 
#21 23.47 trying URL 'https://p3m.dev/cran/__linux__/noble/latest/src/contrib/harmony_1.2.4.tar.gz'
#21 24.80 Content type 'binary/octet-stream' length 4798446 bytes (4.6 MB)
#21 24.98 ==================================================
#21 25.63 downloaded 4.6 MB
#21 25.63 
#21 25.80 * installing *binary* package ‘logging’ ...
#21 25.80 * DONE (logging)
#21 25.98 * installing *binary* package ‘rlist’ ...
#21 25.98 * DONE (rlist)
#21 26.19 * installing *binary* package ‘shinyjs’ ...
#21 26.19 * DONE (shinyjs)
#21 26.44 * installing *binary* package ‘shinythemes’ ...
#21 26.45 * DONE (shinythemes)
#21 26.64 * installing *source* package ‘JASPAR2024’ ...
#21 26.64 ** using staged installation
#21 26.65 ** R
#21 26.65 ** inst
#21 26.65 ** byte-compile and prepare package for lazy loading
#21 27.59 ** help
#21 27.59 *** installing help indices
#21 27.60 ** building package indices
#21 27.76 ** installing vignettes
#21 27.76 ** testing if installed package can be loaded from temporary location
#21 28.62 ** testing if installed package can be loaded from final location
#21 29.46 ** testing if installed package keeps a record of temporary installation path
#21 29.46 * DONE (JASPAR2024)
#21 29.82 * installing *binary* package ‘SoupX’ ...
#21 29.82 * DONE (SoupX)
#21 30.22 * installing *binary* package ‘harmony’ ...
#21 30.22 * DONE (harmony)
#21 30.23 
#21 30.23 The downloaded source packages are in
#21 30.23 	‘/tmp/RtmptiH5qV/downloaded_packages’
#21 30.23 > 
#21 30.23 > 
#21 DONE 30.3s

#22 exporting to image
#22 exporting layers
#22 exporting layers 8.3s done
#22 writing image sha256:d201e37c7bf96aa4f8e515f636a135aed20a6f191d068929d62882583a4bbb68 done
#22 naming to docker.io/library/verse_with_more_packages:4.4.3_3 done
#22 DONE 8.4s
